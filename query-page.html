<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="assets/favicon.png" type="image/png">
    <title>Query Form</title>
    <link rel="stylesheet" href="css/main-stylesheet.css">
    <link rel="stylesheet" href="css/query-page-stylesheet.css">
    <script>
        function validateForm() {
            function emailValidation(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
            }
            let customerNameField = document.forms["orionQuery"]["name"].value;
            if (customerNameField == "") {
                alert("Name must be entered");
                return false;
            }
            let customerEmailField = document.forms["orionQuery"]["email"].value;
            if (customerEmailField == "") {
                alert("Email must be etered");
                return false;
            }
            if (emailValidation(customerEmailField) == false) {
                alert("Please enter a valid Email");
                return false;
            }
            let customerDetails = document.forms["orionQuery"]["details"].value;
            if (customerDetails == "") {
                alert("Details must be provided");
                return false;
            }
        }
    </script>
</head>

<body>
    <img src="assets/earth.jpeg" alt="rocket taking off " class="rocket">
    <div class="navigation">
        <div class="orion_logo">
            <a href="main-page.html"><span class="bigO">O</span></a>
        </div>
        <div class="primary-nav">
            <nav>
                <ul>
                    <li><a href="main-page.html#about">About us</a></li>
                    <li><a href="https://w1784006.users.ecs.westminster.ac.uk/webDev1/studentpage.html">Creators </a></li>
                    <li><a href="query-page.html">Query</a></li>
                    <li><a href="https://w1784006.users.ecs.westminster.ac.uk/webDev1/newfile.html">Quiz</a></li>
                    <li><a href="personal-page.html">The Future</a></li>
                    <li><a href="https://w1823773.users.ecs.westminster.ac.uk/webDev/why.html">Why </a></li>
                    <li><a href="https://w1784006.users.ecs.westminster.ac.uk/webDev1/gallery.html">Gallery </a></li>
                </ul>
            </nav>
        </div>
        <div class="secondary-nav">
            <nav>
                <ul>
                    <li><a id="secondary-nav" href="https://w1823773.users.ecs.westminster.ac.uk/webDev/travel.html">Shop</a></li>
                </ul>
            </nav>
        </div>

    </div>
    <form action="mailto:imranfeisalAB@gmail.com" enctype="text/plain" method="post" name="orionQuery">
        <div id="form">
            <div class="container">
                <h2>Query form</h2>
                <div class="form-details">
                    <label for="name"> Name <br>
                        <input type="text" name="Name" id="name" placeholder="Full name "> <br>
                    </label>
                    <label for="email"> Email <br>
                        <input type="email" name="Email" id="email" placeholder="example@email.com">
                    </label><br>
                    <label for="subject">Subject</label><br>
                    <select name="Subject" id="subject">
                        <option value="Extraterrestrial" selected>Extraterrestrial concerns </option>
                        <option value="Realtivity">Time relativity (unwanted time travel) </option>
                        <option value="Martians">Life on Mars?</option>
                    </select><br>
                    <label for="details">Details </label><br>
                    <textarea name="details" id="details" cols="43" rows="5"></textarea><br>
                    <button type="button" id="checkDetails" onclick=" validateForm()">Check Details</button>
                </div>
            </div>
        </div>
        <div id="displayForm">
            <p>Name: <span id="customerNameDisplay"></span></p>
            <p>Email: <span id="customerEmailDisplay"></span></p>
            <p>Subject: <span id="customerSubjectDisplay"></span></p>
            <p>Details: <span id="customerDetailsDisplay"></span></p>
            <div class="buttons">
                <button type="button" id="editDetails">Edit Details</button>
                <button type="submit">Submit Details</button>

            </div>
        </div>
    </form>
    <p id="editor"><a href="page-editor.html">Page Editor</a></p>
    <script>
        function getSelectedValue(selectList) {
            return selectList[selectList.selectedIndex].value;
        }
        document.getElementById("checkDetails").addEventListener("click", function () {
            let customerName = document.getElementById("name").value;
            document.getElementById("customerNameDisplay").innerHTML = customerName;
            let customerEmail = document.getElementById("email").value;
            document.getElementById("customerEmailDisplay").innerHTML = customerEmail;
            let querySubject = getSelectedValue(document.getElementById("subject"));
            document.getElementById("customerSubjectDisplay").innerHTML = querySubject;
            let queryDetail = document.getElementById("details").value;
            document.getElementById("customerDetailsDisplay").innerHTML = queryDetail;

            function emailIsValid(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
            }

            if (customerName != "" && customerEmail != "" && queryDetail != "" && emailIsValid(customerEmail) != false) {
                document.getElementById("form").style.display = "none";
                document.getElementById("displayForm").style.display = "block";
            }
        });
        document.getElementById("editDetails").addEventListener("click", function () {
            document.getElementById("form").style.display = "block";
            document.getElementById("displayForm").style.display = "none";
        });
    </script>
</body>

</html>